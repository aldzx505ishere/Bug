<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gransdarknet XXV1</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&family=Outfit:wght@300;400;600&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
    --primary-bg: #0a0a14;
    --secondary-bg: #111122;
    --card-bg: rgba(20, 20, 35, 0.8);
    --accent-red: #dc143c;
    --accent-blue: #00a2ff;
    --accent-green: #10b981;
    --accent-cyan: #00f2ff;
    --accent-purple: #8a2be2;
    --accent-orange: #ff6b35;
    --text-primary: #e0e0ff;
    --text-secondary: #a0a0ff;
    --text-muted: #6666aa;
    --border-color: rgba(255, 255, 255, 0.1);
    --shadow-color: rgba(0, 10, 255, 0.15);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Rajdhani', sans-serif;
    user-select: none;
}

body {
    background: var(--primary-bg);
    color: var(--text-primary);
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
}

/* 3D FLUID BACKGROUND */
#fluidBg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -2;
    opacity: 0.4;
}

/* MAIN CONTAINER */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    position: relative;
    z-index: 1;
}

/* HEADER */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 0;
    margin-bottom: 30px;
    border-bottom: 1px solid var(--border-color);
}

.logo {
    font-family: 'Orbitron', sans-serif;
    font-size: 2.2rem;
    font-weight: 800;
    background: linear-gradient(135deg, var(--accent-red), var(--accent-cyan));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    letter-spacing: 1px;
}

.header-actions {
    display: flex;
    gap: 15px;
}

.header-btn {
    width: 50px;
    height: 50px;
    border-radius: 12px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    color: var(--accent-cyan);
    font-size: 1.2rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
}

.header-btn:hover {
    transform: translateY(-3px);
    background: rgba(0, 242, 255, 0.1);
    border-color: var(--accent-cyan);
    box-shadow: 0 10px 30px rgba(0, 242, 255, 0.2);
}

/* WELCOME CARD */
.welcome-card {
    background: linear-gradient(135deg, rgba(20, 20, 35, 0.9), rgba(40, 40, 60, 0.7));
    backdrop-filter: blur(20px);
    border-radius: 24px;
    padding: 30px;
    margin-bottom: 30px;
    border: 1px solid var(--border-color);
    box-shadow: 0 20px 60px var(--shadow-color);
    position: relative;
    overflow: hidden;
}

.welcome-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(transparent, rgba(220, 20, 60, 0.1), transparent 30%);
    animation: rotate 10s linear infinite;
    z-index: -1;
}

.welcome-text p {
    font-size: 1rem;
    color: var(--text-muted);
    margin-bottom: 5px;
}

.welcome-text h2 {
    font-family: 'Orbitron', sans-serif;
    font-size: 2.5rem;
    margin-bottom: 25px;
    background: linear-gradient(to right, #ff0080, #00ffcc);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

/* STATS ROW */
.stats-row {
    display: flex;
    gap: 20px;
    margin-top: 25px;
}

.stat-mini {
    flex: 1;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 16px;
    padding: 20px;
    border: 1px solid var(--border-color);
    transition: all 0.3s;
}

.stat-mini:hover {
    transform: translateY(-5px);
    border-color: var(--accent-cyan);
    box-shadow: 0 10px 30px rgba(0, 242, 255, 0.15);
}

.stat-mini-label {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--text-secondary);
    font-size: 0.9rem;
    margin-bottom: 10px;
}

.stat-mini-label i {
    font-size: 1.2rem;
    color: var(--accent-cyan);
}

.stat-mini-value {
    font-family: 'Orbitron', sans-serif;
    font-size: 2.2rem;
    font-weight: 700;
    color: var(--accent-green);
    line-height: 1;
}

/* SECTION HEADER */
.section-header {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.8rem;
    margin: 40px 0 20px 0;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: 15px;
}

.section-header::before {
    content: '';
    width: 4px;
    height: 30px;
    background: linear-gradient(to bottom, var(--accent-red), var(--accent-cyan));
    border-radius: 2px;
}

/* NEWS WRAPPER */
.news-wrapper {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
    margin-bottom: 40px;
}

.news-card {
    position: relative;
    border-radius: 20px;
    overflow: hidden;
    height: 200px;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.news-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s;
}

.news-card:hover {
    transform: translateY(-10px) scale(1.02);
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
}

.news-card:hover img {
    transform: scale(1.1);
}

.card-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
    padding: 25px 20px 20px;
    transform: translateY(5px);
    transition: transform 0.3s;
}

.news-card:hover .card-overlay {
    transform: translateY(0);
}

.card-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 5px;
    color: white;
}

.card-sub {
    font-size: 0.9rem;
    color: var(--accent-cyan);
    opacity: 0.9;
}

/* ACCOUNT GRID */
.account-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
    margin-bottom: 50px;
}

.stat-card {
    background: var(--card-bg);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 25px;
    border: 1px solid var(--border-color);
    transition: all 0.3s;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.stat-card.full {
    grid-column: 1 / -1;
}

.stat-card.manager-card {
    cursor: pointer;
    background: linear-gradient(135deg, rgba(220, 20, 60, 0.1), rgba(40, 40, 60, 0.7));
    border-color: rgba(220, 20, 60, 0.3);
}

.stat-card.manager-card:hover {
    border-color: var(--accent-red);
    box-shadow: 0 20px 40px rgba(220, 20, 60, 0.2);
}

.stat-header {
    display: flex;
    align-items: center;
    gap: 20px;
}

.stat-icon {
    width: 60px;
    height: 60px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    flex-shrink: 0;
}

.stat-icon.purple {
    background: rgba(138, 43, 226, 0.15);
    color: var(--accent-purple);
}

.stat-icon.orange {
    background: rgba(255, 107, 53, 0.15);
    color: var(--accent-orange);
}

.stat-icon.green {
    background: rgba(16, 185, 129, 0.15);
    color: var(--accent-green);
}

.stat-info h3 {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin-bottom: 8px;
}

.stat-info p {
    font-size: 1.4rem;
    font-weight: 600;
    color: var(--text-primary);
}

.purple { color: var(--accent-purple); }
.orange { color: var(--accent-orange); }
.green { color: var(--accent-green); }

/* ATTACK PAGE */
.header-card {
    background: linear-gradient(135deg, rgba(20, 20, 35, 0.9), rgba(40, 40, 60, 0.7));
    border-radius: 24px;
    padding: 30px;
    margin-bottom: 30px;
    border: 1px solid var(--border-color);
    text-align: center;
    position: relative;
    overflow: hidden;
}

.logo-circle {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    margin: 0 auto 20px;
    border: 3px solid var(--accent-red);
    padding: 5px;
    animation: pulse 2s infinite;
}

.logo-circle img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
}

.username {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.8rem;
    color: var(--accent-cyan);
    margin-top: 10px;
}

.input-section, .bug-section {
    background: var(--card-bg);
    border-radius: 20px;
    padding: 25px;
    margin-bottom: 25px;
    border: 1px solid var(--border-color);
}

.section-header-attack {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}

.section-icon {
    width: 50px;
    height: 50px;
    border-radius: 12px;
    background: rgba(0, 242, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--accent-cyan);
    font-size: 1.3rem;
}

.section-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    color: var(--text-primary);
}

.input-box {
    position: relative;
}

.cyber-input {
    width: 100%;
    padding: 20px 20px 20px 60px;
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid transparent;
    border-radius: 16px;
    color: white;
    font-size: 1.1rem;
    font-family: 'Share Tech Mono', monospace;
    transition: all 0.3s;
}

.cyber-input:focus {
    outline: none;
    border-color: var(--accent-cyan);
    background: rgba(0, 242, 255, 0.05);
    box-shadow: 0 0 30px rgba(0, 242, 255, 0.2);
}

.input-icon {
    position: absolute;
    left: 25px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--accent-cyan);
    font-size: 1.3rem;
}

/* DROPDOWN */
.dropdown-container {
    position: relative;
}

.dropdown-trigger {
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid var(--border-color);
    border-radius: 16px;
    padding: 20px 25px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    transition: all 0.3s;
    font-family: 'Share Tech Mono', monospace;
    font-size: 1.2rem;
    color: var(--accent-cyan);
}

.dropdown-trigger:hover, .dropdown-trigger.active {
    border-color: var(--accent-cyan);
    background: rgba(0, 242, 255, 0.05);
}

.dropdown-arrow {
    transition: transform 0.3s;
}

.dropdown-trigger.active .dropdown-arrow {
    transform: rotate(180deg);
}

.dropdown-menu {
    position: absolute;
    top: calc(100% + 10px);
    left: 0;
    right: 0;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 15px;
    display: none;
    z-index: 100;
    max-height: 300px;
    overflow-y: auto;
    backdrop-filter: blur(20px);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.dropdown-menu.show {
    display: block;
    animation: slideDown 0.3s ease;
}

.dropdown-item {
    padding: 15px 20px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    gap: 15px;
    cursor: pointer;
    transition: all 0.2s;
    color: var(--text-secondary);
    font-size: 1.1rem;
}

.dropdown-item:hover {
    background: rgba(0, 242, 255, 0.1);
    color: var(--accent-cyan);
    transform: translateX(5px);
}

.dropdown-item.selected {
    background: rgba(0, 242, 255, 0.15);
    color: var(--accent-cyan);
    border-left: 3px solid var(--accent-cyan);
}

.dropdown-item i {
    font-size: 1.3rem;
    width: 30px;
    text-align: center;
}

/* SEND BUTTON */
.send-btn {
    width: 100%;
    background: linear-gradient(135deg, var(--accent-red), #a00);
    border: none;
    border-radius: 20px;
    padding: 25px;
    color: white;
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin-top: 30px;
    letter-spacing: 1px;
}

.send-btn:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(220, 20, 60, 0.4);
}

.send-btn:active {
    transform: translateY(-2px);
}

/* ADMIN SECTION */
.admin-section {
    background: var(--card-bg);
    border-radius: 20px;
    padding: 30px;
    margin-bottom: 30px;
    border: 1px solid var(--border-color);
}

.admin-section-header {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 30px;
}

.admin-section-icon {
    width: 60px;
    height: 60px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    background: rgba(0, 242, 255, 0.1);
    border: 2px solid var(--accent-cyan);
    color: var(--accent-cyan);
}

.admin-section-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.8rem;
    color: var(--text-primary);
}

.form-group {
    margin-bottom: 25px;
}

.form-label {
    display: block;
    margin-bottom: 10px;
    color: var(--text-secondary);
    font-size: 1.1rem;
    font-weight: 600;
}

.form-input, .form-select {
    width: 100%;
    padding: 18px 25px;
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid var(--border-color);
    border-radius: 16px;
    color: white;
    font-size: 1.1rem;
    font-family: 'Rajdhani', sans-serif;
    transition: all 0.3s;
}

.form-input:focus, .form-select:focus {
    outline: none;
    border-color: var(--accent-cyan);
    background: rgba(0, 242, 255, 0.05);
}

.admin-btn {
    width: 100%;
    padding: 20px;
    background: linear-gradient(135deg, var(--accent-cyan), #0088cc);
    border: none;
    border-radius: 16px;
    color: white;
    font-family: 'Orbitron', sans-serif;
    font-size: 1.3rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    letter-spacing: 1px;
}

.admin-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 30px rgba(0, 242, 255, 0.3);
}

.admin-btn.delete {
    background: linear-gradient(135deg, var(--accent-red), #a00);
}

.admin-btn.delete:hover {
    box-shadow: 0 15px 30px rgba(220, 20, 60, 0.3);
}

/* USER LIST */
.user-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
    max-height: 400px;
    overflow-y: auto;
    padding-right: 10px;
}

.user-list::-webkit-scrollbar {
    width: 8px;
}

.user-list::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}

.user-list::-webkit-scrollbar-thumb {
    background: var(--accent-cyan);
    border-radius: 10px;
}

.user-item {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 16px;
    padding: 20px;
    border: 1px solid var(--border-color);
    transition: all 0.3s;
}

.user-item:hover {
    transform: translateX(5px);
    border-color: var(--accent-cyan);
    background: rgba(0, 242, 255, 0.05);
}

.user-item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.user-item-name {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--text-primary);
}

.user-item-role {
    padding: 6px 15px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.user-item-role.owner {
    background: rgba(138, 43, 226, 0.2);
    color: var(--accent-purple);
    border: 1px solid var(--accent-purple);
}

.user-item-role.admin {
    background: rgba(0, 242, 255, 0.2);
    color: var(--accent-cyan);
    border: 1px solid var(--accent-cyan);
}

.user-item-role.reseller {
    background: rgba(255, 107, 53, 0.2);
    color: var(--accent-orange);
    border: 1px solid var(--accent-orange);
}

.user-item-role.vip {
    background: rgba(16, 185, 129, 0.2);
    color: var(--accent-green);
    border: 1px solid var(--accent-green);
}

.user-item-role.member {
    background: rgba(102, 102, 170, 0.2);
    color: var(--text-muted);
    border: 1px solid var(--text-muted);
}

.user-item-info {
    color: var(--text-muted);
    font-size: 0.9rem;
}

/* ACCESS DENIED */
.access-denied {
    text-align: center;
    padding: 60px 30px;
    background: var(--card-bg);
    border-radius: 24px;
    border: 1px solid var(--border-color);
}

.access-denied i {
    font-size: 5rem;
    color: var(--accent-red);
    margin-bottom: 30px;
    opacity: 0.7;
}

.access-denied h2 {
    font-family: 'Orbitron', sans-serif;
    font-size: 2.5rem;
    margin-bottom: 20px;
    color: var(--accent-red);
}

.access-denied p {
    color: var(--text-secondary);
    font-size: 1.2rem;
    line-height: 1.6;
    max-width: 600px;
    margin: 0 auto;
}

/* SUCCESS MESSAGE */
.success-message {
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid var(--accent-green);
    border-radius: 16px;
    padding: 20px;
    margin-bottom: 25px;
    display: flex;
    align-items: center;
    gap: 20px;
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.3s;
}

.success-message.show {
    opacity: 1;
    transform: translateY(0);
}

.success-message i {
    font-size: 2.5rem;
    color: var(--accent-green);
}

.success-message-text {
    flex: 1;
}

.success-message-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.3rem;
    color: var(--accent-green);
    margin-bottom: 5px;
}

.success-message-detail {
    color: var(--text-secondary);
    font-size: 1rem;
}

/* ANIME MODAL */
.anime-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    z-index: 9999;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 20px;
    backdrop-filter: blur(20px);
}

.anime-modal.show {
    display: flex;
    animation: fadeIn 0.3s ease;
}

.anime-player {
    background: var(--card-bg);
    border-radius: 24px;
    width: 100%;
    max-width: 1000px;
    overflow: hidden;
    border: 1px solid var(--border-color);
    box-shadow: 0 30px 100px rgba(0, 0, 0, 0.8);
}

.player-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 25px 30px;
    border-bottom: 1px solid var(--border-color);
    background: rgba(0, 0, 0, 0.3);
}

.player-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.8rem;
    color: var(--accent-cyan);
}

.close-player {
    width: 50px;
    height: 50px;
    border-radius: 12px;
    background: rgba(220, 20, 60, 0.1);
    border: 1px solid var(--accent-red);
    color: var(--accent-red);
    font-size: 1.3rem;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.close-player:hover {
    background: var(--accent-red);
    color: white;
    transform: rotate(90deg);
}

.player-video {
    padding: 30px;
    background: black;
}

.player-video iframe {
    width: 100%;
    height: 500px;
    border: none;
    border-radius: 12px;
}

.player-controls {
    padding: 25px 30px;
    border-top: 1px solid var(--border-color);
    background: rgba(0, 0, 0, 0.3);
}

.player-description {
    color: var(--text-secondary);
    margin-bottom: 25px;
    font-size: 1.1rem;
    line-height: 1.6;
}

.player-stats {
    display: flex;
    gap: 30px;
}

.player-stat {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--accent-cyan);
    font-size: 1.1rem;
    font-weight: 600;
}

.player-stat i {
    font-size: 1.3rem;
}

/* FLOATING NAV */
.nav-container {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    width: 100%;
    max-width: 500px;
    padding: 0 20px;
}

.floating-nav {
    background: var(--card-bg);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    padding: 20px;
    display: flex;
    justify-content: space-around;
    border: 1px solid var(--border-color);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.nav-link {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    color: var(--text-muted);
    text-decoration: none;
    padding: 15px 25px;
    border-radius: 16px;
    transition: all 0.3s;
    cursor: pointer;
    min-width: 100px;
}

.nav-link:hover {
    color: var(--accent-cyan);
    background: rgba(0, 242, 255, 0.05);
    transform: translateY(-5px);
}

.nav-link.active {
    color: var(--accent-cyan);
    background: rgba(0, 242, 255, 0.1);
    border: 1px solid var(--accent-cyan);
}

.nav-link i {
    font-size: 1.8rem;
}

.nav-link span {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.9rem;
    font-weight: 600;
    letter-spacing: 1px;
}

/* PAGE TRANSITIONS */
.page {
    display: none;
    animation: fadeIn 0.5s ease;
}

.page.active {
    display: block;
}

/* CUSTOM NOTIFICATIONS */
.custom-notification {
    position: fixed;
    top: 30px;
    right: 30px;
    background: var(--card-bg);
    border-radius: 16px;
    padding: 20px 25px;
    display: flex;
    align-items: center;
    gap: 15px;
    z-index: 99999;
    border: 1px solid var(--border-color);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(20px);
    transform: translateX(100px);
    opacity: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.custom-notification.show {
    transform: translateX(0);
    opacity: 1;
}

.custom-notification.success {
    border-color: var(--accent-green);
    background: rgba(16, 185, 129, 0.1);
}

.custom-notification.error {
    border-color: var(--accent-red);
    background: rgba(220, 20, 60, 0.1);
}

.custom-notification.process {
    border-color: var(--accent-cyan);
    background: rgba(0, 242, 255, 0.1);
}

.custom-notification i {
    font-size: 1.5rem;
}

.custom-notification.success i {
    color: var(--accent-green);
}

.custom-notification.error i {
    color: var(--accent-red);
}

.custom-notification.process i {
    color: var(--accent-cyan);
}

.custom-notification span {
    font-family: 'Rajdhani', sans-serif;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
}

/* ANIMATIONS */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes rotate {
    100% { transform: rotate(360deg); }
}

@keyframes pulse {
    0%, 100% { box-shadow: 0 0 20px rgba(220, 20, 60, 0.5); }
    50% { box-shadow: 0 0 40px rgba(220, 20, 60, 0.8); }
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .container {
        padding: 15px;
    }
    
    .header {
        flex-direction: column;
        gap: 20px;
        text-align: center;
    }
    
    .logo {
        font-size: 1.8rem;
    }
    
    .welcome-text h2 {
        font-size: 2rem;
    }
    
    .stats-row {
        flex-direction: column;
    }
    
    .news-wrapper, .account-grid {
        grid-template-columns: 1fr;
    }
    
    .section-header {
        font-size: 1.5rem;
    }
    
    .floating-nav {
        padding: 15px;
    }
    
    .nav-link {
        padding: 12px 15px;
        min-width: auto;
    }
    
    .nav-link i {
        font-size: 1.5rem;
    }
    
    .nav-link span {
        font-size: 0.8rem;
    }
    
    .player-video iframe {
        height: 300px;
    }
}
</style>

<!-- 3D FLUID BACKGROUND SCRIPT -->
<script>
// Create canvas for 3D fluid background
const canvas = document.createElement('canvas');
canvas.id = 'fluidBg';
document.body.appendChild(canvas);

const ctx = canvas.getContext('2d');
let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;

// Fluid simulation variables
const particles = [];
const particleCount = 80;
const connectionDistance = 120;

class FluidParticle {
    constructor() {
        this.x = Math.random() * width;
        this.y = Math.random() * height;
        this.vx = Math.random() * 2 - 1;
        this.vy = Math.random() * 2 - 1;
        this.radius = Math.random() * 3 + 1;
        this.color = `hsl(${Math.random() * 60 + 200}, 100%, 70%)`;
        this.alpha = Math.random() * 0.3 + 0.1;
        this.pulse = Math.random() * Math.PI * 2;
    }
    
    update() {
        // Fluid movement
        this.x += this.vx;
        this.y += this.vy;
        
        // Boundary bounce
        if (this.x < 0 || this.x > width) this.vx *= -1;
        if (this.y < 0 || this.y > height) this.vy *= -1;
        
        // Keep within bounds
        this.x = Math.max(0, Math.min(width, this.x));
        this.y = Math.max(0, Math.min(height, this.y));
        
        // Pulse animation
        this.pulse += 0.02;
        this.currentRadius = this.radius + Math.sin(this.pulse) * 1;
    }
    
    draw() {
        // Draw particle
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.currentRadius, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.globalAlpha = this.alpha;
        ctx.fill();
        
        // Draw connections
        for (let p of particles) {
            const dx = this.x - p.x;
            const dy = this.y - p.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            if (distance < connectionDistance && p !== this) {
                ctx.beginPath();
                ctx.moveTo(this.x, this.y);
                ctx.lineTo(p.x, p.y);
                
                // Gradient line color
                const gradient = ctx.createLinearGradient(this.x, this.y, p.x, p.y);
                gradient.addColorStop(0, this.color);
                gradient.addColorStop(1, p.color);
                
                ctx.strokeStyle = gradient;
                ctx.globalAlpha = 0.05 * (1 - distance / connectionDistance);
                ctx.lineWidth = 1;
                ctx.stroke();
            }
        }
    }
}

// Initialize particles
for (let i = 0; i < particleCount; i++) {
    particles.push(new FluidParticle());
}

// Animation loop
function animateFluid() {
    // Clear with gradient background
    const gradient = ctx.createLinearGradient(0, 0, width, height);
    gradient.addColorStop(1, '#151530');
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, width, height);
    
    // Update and draw particles
    particles.forEach(p => {
        p.update();
        p.draw();
    });
    
    requestAnimationFrame(animateFluid);
}

// Handle resize
window.addEventListener('resize', () => {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
});

// Start animation
animateFluid();

// Add floating particles to welcome card
function addFloatingEffects() {
    const welcomeCard = document.querySelector('.welcome-card');
    if (!welcomeCard) return;
    
    for (let i = 0; i < 15; i++) {
        const particle = document.createElement('div');
        particle.style.cssText = `
            position: absolute;
            width: ${Math.random() * 4 + 2}px;
            height: ${Math.random() * 4 + 2}px;
            background: ${Math.random() > 0.5 ? 'var(--accent-cyan)' : 'var(--accent-red)'};
            border-radius: 50%;
            pointer-events: none;
            opacity: ${Math.random() * 0.3 + 0.1};
            z-index: 1;
        `;
        
        particle.style.left = `${Math.random() * 100}%`;
        particle.style.top = `${Math.random() * 100}%`;
        
        welcomeCard.appendChild(particle);
        
        // Animate particle
        animateParticle(particle);
    }
}

function animateParticle(particle) {
    let x = Math.random() * 100;
    let y = Math.random() * 100;
    let speedX = (Math.random() - 0.5) * 0.5;
    let speedY = (Math.random() - 0.5) * 0.5;
    
    function move() {
        x += speedX;
        y += speedY;
        
        // Bounce off edges
        if (x <= 0 || x >= 100) speedX *= -1;
        if (y <= 0 || y >= 100) speedY *= -1;
        
        particle.style.left = `${x}%`;
        particle.style.top = `${y}%`;
        
        requestAnimationFrame(move);
    }
    
    move();
}

// Initialize effects when page loads
document.addEventListener('DOMContentLoaded', () => {
    setTimeout(addFloatingEffects, 1000);
    
    // Add hover effect to stat cards
    const statCards = document.querySelectorAll('.stat-card');
    statCards.forEach(card => {
        card.addEventListener('mouseenter', (e) => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            card.style.setProperty('--mouse-x', `${x}px`);
            card.style.setProperty('--mouse-y', `${y}px`);
        });
    });
});

// Add CSS for particle effects
const style = document.createElement('style');
style.textContent = `
    .stat-card {
        position: relative;
        overflow: hidden;
    }
    
    .stat-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(
            600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
            rgba(0, 242, 255, 0.1),
            transparent 40%
        );
        opacity: 0;
        transition: opacity 0.3s;
        z-index: 0;
        pointer-events: none;
    }
    
    .stat-card:hover::before {
        opacity: 1;
    }
    
    .stat-card > * {
        position: relative;
        z-index: 1;
    }
    
    /* Glitch effect for logo */
    .logo {
        position: relative;
        animation: glitch 5s infinite;
    }
    
    @keyframes glitch {
        0%, 100% { transform: translate(0); }
        1% { transform: translate(-2px, 2px); }
        2% { transform: translate(2px, -1px); }
        3% { transform: translate(-1px, -2px); }
        4% { transform: translate(1px, 2px); }
        5% { transform: translate(-2px, -1px); }
        6% { transform: translate(0); }
    }
    
    /* Shimmer effect for buttons */
    .send-btn, .admin-btn {
        position: relative;
        overflow: hidden;
    }
    
    .send-btn::after, .admin-btn::after {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
            to right,
            transparent 20%,
            rgba(255, 255, 255, 0.3) 50%,
            transparent 80%
        );
        transform: rotate(30deg);
        animation: shimmer 3s infinite;
        z-index: 1;
    }
    
    @keyframes shimmer {
        0% { transform: translateX(-100%) rotate(30deg); }
        100% { transform: translateX(100%) rotate(30deg); }
    }
    
    /* Neon glow for active nav */
    .nav-link.active {
        box-shadow: 0 0 20px rgba(0, 242, 255, 0.5),
                    inset 0 0 10px rgba(0, 242, 255, 0.2);
    }
    
    /* Input focus glow */
    .cyber-input:focus {
        animation: inputGlow 2s infinite alternate;
    }
    
    @keyframes inputGlow {
        from { box-shadow: 0 0 20px rgba(0, 242, 255, 0.3); }
        to { box-shadow: 0 0 30px rgba(0, 242, 255, 0.6); }
    }
    
    /* Loading animation for stats */
    @keyframes countUp {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .stat-mini-value {
        animation: countUp 1s ease-out forwards;
    }
    
    /* Parallax effect for news cards */
    .news-wrapper {
        perspective: 1000px;
    }
    
    .news-card {
        transform-style: preserve-3d;
        transition: transform 0.6s;
    }
    
    .news-card:hover {
        transform: rotateY(5deg) rotateX(5deg) translateZ(20px);
    }
    
    /* Ripple effect for clicks */
    .ripple {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: scale(0);
        animation: ripple 0.6s linear;
        pointer-events: none;
    }
    
    @keyframes ripple {
        to {
            transform: scale(4);
            opacity: 0;
        }
    }
`;

document.head.appendChild(style);

// Add ripple effect to buttons
document.addEventListener('click', function(e) {
    if (e.target.tagName === 'BUTTON' || e.target.closest('button')) {
        const button = e.target.tagName === 'BUTTON' ? e.target : e.target.closest('button');
        const rect = button.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        const x = e.clientX - rect.left - size / 2;
        const y = e.clientY - rect.top - size / 2;
        
        const ripple = document.createElement('span');
        ripple.classList.add('ripple');
        ripple.style.cssText = `
            width: ${size}px;
            height: ${size}px;
            left: ${x}px;
            top: ${y}px;
        `;
        
        button.style.position = 'relative';
        button.style.overflow = 'hidden';
        button.appendChild(ripple);
        
        setTimeout(() => ripple.remove(), 600);
    }
});

// Real-time stats update simulation
function updateStats() {
    const userCount = document.getElementById('userCount');
    const connections = document.getElementById('connections');
    
    if (userCount && connections) {
        let users = parseInt(userCount.textContent);
        let conns = parseInt(connections.textContent);
        
        // Simulate random fluctuations
        users += Math.floor(Math.random() * 5) - 2;
        conns += Math.floor(Math.random() * 10) - 5;
        
        // Keep within realistic bounds
        users = Math.max(950, Math.min(1050, users));
        conns = Math.max(950, Math.min(1050, conns));
        
        userCount.textContent = users;
        connections.textContent = conns;
        
        // Add animation
        userCount.style.animation = 'none';
        connections.style.animation = 'none';
        setTimeout(() => {
            userCount.style.animation = 'countUp 0.5s ease-out';
            connections.style.animation = 'countUp 0.5s ease-out';
        }, 10);
    }
}

// Update stats every 10 seconds
setInterval(updateStats, 10000);

// Keyboard shortcuts
document.addEventListener('keydown', (e) => {
    // Ctrl + 1 = Dashboard
    if (e.ctrlKey && e.key === '1') {
        e.preventDefault();
        switchPage('dashboard');
    }
    // Ctrl + 2 = WhatsApp Attack
    if (e.ctrlKey && e.key === '2') {
        e.preventDefault();
        switchPage('attack');
    }
    // Ctrl + 3 = Admin (if accessible)
    if (e.ctrlKey && e.key === '3') {
        e.preventDefault();
        if (canViewUsers()) {
            switchPage('admin');
        }
    }
    // Escape = Close modal
    if (e.key === 'Escape') {
        closeAnimePlayer();
    }
});

// Add sound effects (optional)
function playSound(type) {
    if (typeof Audio === 'undefined') return;
    
    const sounds = {
        click: 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAA==',
        success: 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAA==',
        error: 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAA=='
    };
    
    try {
        const audio = new Audio(sounds[type] || sounds.click);
        audio.volume = 0.3;
        audio.play().catch(() => {});
    } catch (e) {
        console.log('Audio not supported');
    }
}

// Enhanced notification with sound
function showEnhancedNotification(message, type, icon) {
    showNotification(message, type, icon);
    
    // Play sound based on type
    if (type === 'success') {
        playSound('success');
    } else if (type === 'error') {
        playSound('error');
    } else {
        playSound('click');
    }
}

// Replace original notification function
window.showNotification = showEnhancedNotification;

// Initialize tooltips
function initTooltips() {
    const elements = document.querySelectorAll('[data-tooltip]');
    
    elements.forEach(el => {
        el.addEventListener('mouseenter', (e) => {
            const tooltip = document.createElement('div');
            tooltip.className = 'tooltip';
            tooltip.textContent = el.dataset.tooltip;
            
            document.body.appendChild(tooltip);
            
            const rect = el.getBoundingClientRect();
            tooltip.style.cssText = `
                position: fixed;
                background: var(--card-bg);
                color: var(--text-primary);
                padding: 8px 12px;
                border-radius: 8px;
                font-size: 12px;
                border: 1px solid var(--border-color);
                z-index: 99999;
                white-space: nowrap;
                pointer-events: none;
                transform: translateY(-5px);
                opacity: 0;
                transition: all 0.2s;
            `;
            
            tooltip.style.left = `${rect.left + rect.width / 2}px`;
            tooltip.style.top = `${rect.top - 10}px`;
            tooltip.style.transform = `translateX(-50%) translateY(-5px)`;
            
            requestAnimationFrame(() => {
                tooltip.style.opacity = '1';
                tooltip.style.transform = `translateX(-50%) translateY(0)`;
            });
            
            el._tooltip = tooltip;
        });
        
        el.addEventListener('mouseleave', () => {
            if (el._tooltip) {
                el._tooltip.style.opacity = '0';
                el._tooltip.style.transform = `translateX(-50%) translateY(-5px)`;
                setTimeout(() => {
                    if (el._tooltip && el._tooltip.parentNode) {
                        el._tooltip.parentNode.removeChild(el._tooltip);
                    }
                }, 200);
            }
        });
    });
}

// Call init functions
setTimeout(() => {
    initTooltips();
    updateStats();
}, 1000);

// Add data-tooltip attributes to elements
document.addEventListener('DOMContentLoaded', () => {
    // Add tooltips to buttons
    const sendBtn = document.querySelector('.send-btn');
    if (sendBtn) sendBtn.dataset.tooltip = 'Kirim bug ke target WhatsApp';
    
    const adminBtn = document.querySelectorAll('.admin-btn');
    adminBtn.forEach((btn, i) => {
        if (i === 0) btn.dataset.tooltip = 'Buat akun baru untuk user';
        if (btn.classList.contains('delete')) btn.dataset.tooltip = 'Hapus akun secara permanen';
    });
    
    // Add tooltips to nav items
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach((link, i) => {
        const tips = ['Dashboard utama', 'Panel serangan WhatsApp', 'Kontrol admin'];
        if (tips[i]) link.dataset.tooltip = tips[i];
    });
});

// Performance optimization
let lastScroll = 0;
window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;
    
    if (Math.abs(currentScroll - lastScroll) > 50) {
        // Reduce animation quality when scrolling fast
        document.body.style.setProperty('--animation-quality', 'low');
    } else {
        document.body.style.setProperty('--animation-quality', 'high');
    }
    
    lastScroll = currentScroll;
});

// Add CSS variable for animation quality
document.documentElement.style.setProperty('--animation-quality', 'high');
</script>
</head>
<body>

    <!-- ANIME PLAYER MODAL -->
    <div class="anime-modal" id="animeModal">
        <div class="anime-player">
            <div class="player-header">
                <div class="player-title" id="playerTitle">Anime Player</div>
                <button class="close-player" onclick="closeAnimePlayer()">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            <div class="player-video">
                <iframe id="animeIframe" src="" allowfullscreen></iframe>
            </div>
            <div class="player-controls">
                <div class="player-description" id="playerDescription">
                    Nikmati streaming anime dengan kualitas HD. Pilih dari berbagai anime populer.
                </div>
                <div class="player-stats">
                    <div class="player-stat">
                        <i class="fa-solid fa-eye"></i>
                        <span>HD Quality</span>
                    </div>
                    <div class="player-stat">
                        <i class="fa-solid fa-play"></i>
                        <span>Auto Play</span>
                    </div>
                    <div class="player-stat">
                        <i class="fa-solid fa-closed-captioning"></i>
                        <span>Subtitles</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        
        <!-- DASHBOARD PAGE -->
        <div id="dashboardPage" class="page active">
            <header class="header">
                <div class="logo">Dashboard</div>
                <div class="header-actions">
                    <button class="header-btn">
                        <i class="fa-solid fa-bell"></i>
                    </button>
                </div>
            </header>

            <div class="welcome-card">
                <div class="welcome-text">
                    <p>Welcome back</p>
                    <h2 id="usernameDisplay">${username}</h2>
                    
                    <div class="stats-row">
                        <div class="stat-mini">
                            <div class="stat-mini-label">
                                <i class="fa-solid fa-users"></i>
                                <span>Online Users</span>
                            </div>
                            <div class="stat-mini-value" id="userCount">999</div>
                        </div>
                        <div class="stat-mini">
                            <div class="stat-mini-label">
                                <i class="fa-solid fa-link"></i>
                                <span>Connections</span>
                            </div>
                            <div class="stat-mini-value" id="connections">999</div>
                        </div>
                    </div>
                </div>
            </div>

            <h3 class="section-header">Latest News</h3>
            
            <div class="news-wrapper">
                <div class="news-card">
                    <img src="https://files.catbox.moe/nu2azr.jpg" alt="News 1">
                    <div class="card-overlay">
                        <div class="card-title">Gransdarknet XXV1</div>
                        <div class="card-sub">Buy Access Chat @XtrolCome</div>
                    </div>
                </div>
                <div class="news-card">
                    <img src="https://files.catbox.moe/hiva7r.jpeg" alt="News 2">
                    <div class="card-overlay">
                        <div class="card-title">New Update</div>
                        <div class="card-sub">Latest Features Released</div>
                    </div>
                </div>
                <div class="news-card">
                    <img src="https://files.catbox.moe/hiva7r.jpeg" alt="News 3">
                    <div class="card-overlay">
                        <div class="card-title">Acces Developer</div>
                        <div class="card-sub">Developer @XtrolCome</div>
                    </div>
                </div>
            </div>

            <h3 class="section-header">Account Statistics</h3>
            
            <div class="account-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon purple">
                            <i class="fa-solid fa-user"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Username</h3>
                            <p class="purple" id="username">${username}</p>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon orange">
                            <i class="fa-solid fa-shield-halved"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Role</h3>
                            <p class="orange" id="accessLevel">${displayRole}</p>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card full">
                    <div class="stat-header">
                        <div class="stat-icon green">
                            <i class="fa-solid fa-calendar"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Account Expires</h3>
                            <p class="green" id="expiredDate">${formattedTime}</p>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card full manager-card" onclick="switchPage('manager')">
                    <div class="stat-header">
                        <div class="stat-icon" style="background: rgba(220, 20, 60, 0.15); color: var(--accent-red);">
                            <i class="fa-solid fa-bug"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Manager Bug Sender</h3>
                            <p style="color: var(--accent-red);">Click to Manage</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ATTACK PAGE (WhatsApp) -->
        <div id="attackPage" class="page">
            <header class="header">
                <div class="logo">Attack Panel</div>
                <div class="header-actions">
                    <button class="header-btn">
                        <i class="fa-solid fa-bolt"></i>
                    </button>
                </div>
            </header>

            <div class="header-card">
                <div class="logo-circle">
                    <img src="https://files.catbox.moe/nu2azr.jpg" alt="Vortex Logo">
                </div>
                <div class="username" id="attackUsername">${username}</div>
            </div>
            </div>

            <div class="input-section">
                <div class="section-header-attack">
                    <div class="section-icon">
                        <i class="fa-solid fa-mobile-screen"></i>
                    </div>
                    <div class="section-title">Nomor Target</div>
                </div>
                <div class="input-box">
                    <input type="tel" class="cyber-input" id="targetInput" placeholder="Contoh: +62xxxxxxxxxxx" autocomplete="off">
                    <i class="fa-solid fa-mobile-screen input-icon"></i>
                </div>
            </div>

            <div class="bug-section">
                <div class="section-header-attack">
                    <div class="section-icon">
                        <i class="fa-solid fa-bug"></i>
                    </div>
                    <div class="section-title">Pilih Bug</div>
                </div>
                <div class="dropdown-container">
                    <div class="dropdown-trigger" id="dropdownTrigger" onclick="toggleDropdown()">
                        <span id="selectedBug">CRASH CLICK</span>
                        <i class="fa-solid fa-chevron-down dropdown-arrow"></i>
                    </div>
                    <div class="dropdown-menu" id="dropdownMenu">
                        <div class="dropdown-item selected" onclick="selectBug('uisystem', 'CRASH CLICK', this)">
                            <i class="fa-solid fa-bomb"></i>
                            <span>CRASH CLICK</span>
                        </div>
                        <div class="dropdown-item" onclick="selectBug('fc', 'FORCLOSE', this)">
                            <i class="fa-solid fa-hourglass-half"></i>
                            <span>FORCLOSE KINKGAX</span>
                        </div>
                        <div class="dropdown-item" onclick="selectBug('kira', 'BLANK', this)">
                            <i class="fa-brands fa-android"></i>
                            <span>BLANK ICLIK</span>
                        </div>
                        <div class="dropdown-item" onclick="selectBug('invis', 'INVISIBLE', this)">
                            <i class="fa-solid fa-ghost"></i>
                            <span>INVISIBLE KINKGAX</span>
                        </div>
                        <div class="dropdown-item" onclick="selectBug('ulti', 'ULTIMATE', this)">
                            <i class="fa-solid fa-skull"></i>
                            <span>ULTIMATE VENOM</span>
                        </div>
                    </div>
                </div>
            </div>

            <button class="send-btn" onclick="sendBug()">
                <i class="fa-solid fa-paper-plane"></i>
                KIRIM BUG
            </button>
        </div>
        <!-- ADMIN PAGE -->
        <div id="adminPage" class="page">
            <header class="header">
                <div class="logo">Admin Control</div>
                <div class="header-actions">
                    <button class="header-btn">
                        <i class="fa-solid fa-user-shield"></i>
                    </button>
                </div>
            </header>

            <div id="adminContent"></div>
        </div>

        <!-- MANAGER BUG SENDER PAGE -->
        <div id="managerPage" class="page">
            <header class="header">
                <div class="logo">Manager Sender</div>
                <div class="header-actions">
                    <button class="header-btn" onclick="switchPage('dashboard')">
                        <i class="fa-solid fa-arrow-left"></i>
                    </button>
                </div>
            </header>

            <div id="managerContent">
                <!-- Add Sender Section -->
                <div class="admin-section">
                    <div class="admin-section-header">
                        <div class="admin-section-icon" style="background: rgba(220, 20, 60, 0.1); border-color: var(--accent-red); color: var(--accent-red);">
                            <i class="fa-solid fa-plus"></i>
                        </div>
                        <div class="admin-section-title">Add New Sender</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" class="form-input" id="senderNumber" placeholder="628xxxxxxxxxx">
                    </div>

                    <button class="admin-btn" style="background: linear-gradient(135deg, var(--accent-red), #a00);" onclick="addSender()">
                        <i class="fa-solid fa-paper-plane"></i>
                        ADD SENDER
                    </button>
                </div>

                <!-- Active Senders List -->
                <div class="admin-section">
                    <div class="admin-section-header">
                        <div class="admin-section-icon" style="background: rgba(16, 185, 129, 0.1); border-color: var(--accent-green); color: var(--accent-green);">
                            <i class="fa-solid fa-list"></i>
                        </div>
                        <div class="admin-section-title">Active Senders</div>
                    </div>
                    
                    <div class="user-list" id="senderList">
                        <div style="text-align: center; padding: 20px; color: var(--text-muted);">
                            <i class="fa-solid fa-spinner fa-spin" style="font-size: 30px;"></i>
                            <p style="margin-top: 10px;">Loading senders...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- FLOATING NAV - IMPROVED SPACING -->
    <div class="nav-container">
        <nav class="floating-nav">
            <a class="nav-link active" onclick="switchPage('dashboard')">
                <i class="fa-solid fa-house"></i>
                <span>Home</span>
            </a>
            <a class="nav-link" onclick="switchPage('attack')">
                <i class="fa-brands fa-whatsapp"></i>
                <span>WhatsApp</span>
            </a>
            <a class="nav-link" id="adminNavLink" onclick="switchPage('admin')">
                <i class="fa-solid fa-user-shield"></i>
                <span>Admin</span>
            </a>
        </nav>
    </div>

    <script>
        // GLOBAL VARIABLES
        var selectedBugValue = 'uisystem';
        var selectedBugName = 'CRASH CLICK';
        var currentUsername = '${username}';
        var currentRole = '${rawRole}'.toLowerCase();
        var lastTap = 0;

        // ROLE-BASED ACCESS CONTROL
        var rolePermissions = {
            'owner': ['create', 'delete', 'view'],
            'admin': ['create', 'delete', 'view'],
            'reseller': ['create', 'view'],
            'vip': ['view'],
            'member': []
        };

        function hasPermission(permission) {
            var permissions = rolePermissions[currentRole] || [];
            return permissions.includes(permission);
        }

        function canCreateAccount() {
            return hasPermission('create');
        }

        function canDeleteAccount() {
            return hasPermission('delete');
        }

        function canViewUsers() {
            return hasPermission('view');
        }

        // RENDER ADMIN CONTENT BASED ON ROLE
        function renderAdminContent() {
            var container = document.getElementById('adminContent');
            
            if (!canViewUsers()) {
                container.innerHTML = `
                    <div class="access-denied">
                        <i class="fa-solid fa-shield-halved"></i>
                        <h2>ACCESS DENIED</h2>
                        <p>Anda tidak memiliki izin untuk mengakses halaman Admin Control.<br>Hubungi administrator untuk upgrade akun Anda.</p>
                    </div>
                `;
                return;
            }

            var createSection = '';
            if (canCreateAccount()) {
                createSection = `
                    <div class="admin-section">
                        <div class="success-message" id="successMessage">
                            <i class="fa-solid fa-check-circle"></i>
                            <div class="success-message-text">
                                <div class="success-message-title">Account Created Successfully</div>
                                <div class="success-message-detail" id="successDetail"></div>
                            </div>
                        </div>

                        <div class="admin-section-header">
                            <div class="admin-section-icon">
                                <i class="fa-solid fa-user-plus"></i>
                            </div>
                            <div class="admin-section-title">Create Account</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Username</label>
                            <input type="text" class="form-input" id="newUsername" placeholder="Enter username">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="text" class="form-input" id="newPassword" placeholder="Auto-generated or custom">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Duration (Days)</label>
                            <input type="number" class="form-input" id="newDuration" placeholder="e.g., 30" value="30">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Role</label>
                            <select class="form-select" id="newRole">
                                ${getAllowedRoles().map(role => `<option value="${role}">${role.toUpperCase()}</option>`).join('')}
                            </select>
                        </div>

                        <button class="admin-btn" onclick="createAccount()">
                            <i class="fa-solid fa-user-plus"></i>
                            CREATE ACCOUNT
                        </button>
                    </div>
                `;
            }

            var deleteSection = '';
            if (canDeleteAccount()) {
                deleteSection = `
                    <div class="admin-section">
                        <div class="admin-section-header">
                            <div class="admin-section-icon" style="background: rgba(220, 20, 60, 0.1); border-color: var(--accent-red); color: var(--accent-red);">
                                <i class="fa-solid fa-user-minus"></i>
                            </div>
                            <div class="admin-section-title">Delete Account</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Username to Delete</label>
                            <input type="text" class="form-input" id="deleteUsername" placeholder="Enter username">
                        </div>

                        <button class="admin-btn delete" onclick="deleteAccount()">
                            <i class="fa-solid fa-trash"></i>
                            DELETE ACCOUNT
                        </button>
                    </div>
                `;
            }

            var userListSection = `
                <div class="admin-section">
                    <div class="admin-section-header">
                        <div class="admin-section-icon">
                            <i class="fa-solid fa-users"></i>
                        </div>
                        <div class="admin-section-title">User List</div>
                    </div>
                    
                    <div class="user-list" id="userList">
                        <div style="text-align: center; padding: 20px; color: var(--text-muted);">
                            <i class="fa-solid fa-spinner fa-spin" style="font-size: 30px;"></i>
                            <p style="margin-top: 10px;">Loading users...</p>
                        </div>
                    </div>
                </div>
            `;

            container.innerHTML = createSection + deleteSection + userListSection;
            
            loadUserList();
        }

        // GET ALLOWED ROLES FOR CURRENT USER
        function getAllowedRoles() {
            var allRoles = ['member', 'vip', 'reseller', 'admin', 'owner'];
            
            if (currentRole === 'owner') {
                return allRoles;
            } else if (currentRole === 'admin') {
                return ['member', 'vip', 'reseller', 'admin'];
            } else if (currentRole === 'reseller') {
                return ['member', 'vip'];
            }
            
            return ['member'];
        }

        // CREATE ACCOUNT
        async function createAccount() {
            var username = document.getElementById('newUsername').value.trim();
            var password = document.getElementById('newPassword').value.trim();
            var duration = document.getElementById('newDuration').value.trim();
            var role = document.getElementById('newRole').value;

            if (!username) {
                alert('Username tidak boleh kosong!');
                return;
            }

            if (!duration || duration < 1) {
                alert('Duration minimal 1 hari!');
                return;
            }

            var data = {
                username: username,
                customKey: password || null,
                duration: duration + 'd',
                role: role
            };

            try {
                var response = await fetch('/api/create-account', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                var result = await response.json();

                if (result.success) {
                    document.getElementById('successDetail').textContent = `User: ${username} | Role: ${role.toUpperCase()}`;
                    document.getElementById('successMessage').classList.add('show');
                    
                    document.getElementById('newUsername').value = '';
                    document.getElementById('newPassword').value = '';
                    document.getElementById('newDuration').value = '30';
                    
                    setTimeout(function() {
                        document.getElementById('successMessage').classList.remove('show');
                    }, 5000);

                    loadUserList();
                } else {
                    alert('Gagal: ' + result.message);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Terjadi kesalahan saat membuat akun');
            }
        }

// DELETE ACCOUNT - UPDATED
async function deleteAccount() {
    var username = document.getElementById('deleteUsername').value.trim();

    if (!username) {
        alert('Username tidak boleh kosong!');
        return;
    }

    if (!confirm(' KONFIRMASI HAPUS\n\nYakin ingin menghapus user: ' + username + '?\n\nAksi ini TIDAK BISA dibatalkan!')) {
        return;
    }

    try {
        var response = await fetch('/api/delete-account', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username: username })
        });

        var result = await response.json();

        if (result.success) {
            alert(' User ' + username + ' berhasil dihapus!');
            document.getElementById('deleteUsername').value = '';
            loadUserList();
        } else {
            alert(' Gagal: ' + result.message);
        }
    } catch (error) {
        console.error('Error:', error);
        alert(' Terjadi kesalahan saat menghapus akun');
    }
}

        // LOAD USER LIST
        async function loadUserList() {
            var container = document.getElementById('userList');
            
            try {
                var response = await fetch('/api/list-accounts');
                var users = await response.json();

                if (users.length === 0) {
                    container.innerHTML = `
                        <div style="text-align: center; padding: 20px; color: var(--text-muted);">
                            <i class="fa-solid fa-inbox" style="font-size: 40px; margin-bottom: 10px; opacity: 0.5;"></i>
                            <p>Belum ada user terdaftar</p>
                        </div>
                    `;
                    return;
                }

                var html = '';
                users.forEach(function(user) {
                    var expDate = new Date(user.expired).toLocaleString('id-ID', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit'
                    });

                    html += `
                        <div class="user-item">
                            <div class="user-item-header">
                                <div class="user-item-name">${user.username}</div>
                                <div class="user-item-role ${user.role}">${user.role.toUpperCase()}</div>
                            </div>
                            <div class="user-item-info">
                                Expired: ${expDate} WIB
                            </div>
                        </div>
                    `;
                });

                container.innerHTML = html;
            } catch (error) {
                console.error('Error loading users:', error);
                container.innerHTML = `
                    <div style="text-align: center; padding: 20px; color: var(--text-muted);">
                        <i class="fa-solid fa-exclamation-circle" style="font-size: 40px; margin-bottom: 10px; color: var(--accent-red);"></i>
                        <p>Gagal memuat daftar user</p>
                    </div>
                `;
            }
        }

        // PAGE SWITCHING
        function switchPage(page) {
            var pages = document.querySelectorAll('.page');
            var navLinks = document.querySelectorAll('.nav-link');
            
            pages.forEach(function(p) { p.classList.remove('active'); });
            navLinks.forEach(function(l) { l.classList.remove('active'); });
            
            if (page === 'dashboard') {
                document.getElementById('dashboardPage').classList.add('active');
                navLinks[0].classList.add('active');
            } else if (page === 'attack') {
                document.getElementById('attackPage').classList.add('active');
                navLinks[1].classList.add('active');
                
                var video = document.getElementById('attackVideo');
                if (video) {
                    video.play().catch(function(e) {
                        console.log('Video autoplay prevented:', e);
                    });
                }
            } else if (page === 'tools') {
                document.getElementById('toolsPage').classList.add('active');
                navLinks[2].classList.add('active');
            } else if (page === 'admin') {
                document.getElementById('adminPage').classList.add('active');
                navLinks[3].classList.add('active');
                renderAdminContent();
            } else if (page === 'manager') {
                document.getElementById('managerPage').classList.add('active');
                loadSenderList();
            }
        }

        // DROPDOWN FUNCTIONS
        function toggleDropdown() {
            var menu = document.getElementById('dropdownMenu');
            var trigger = document.getElementById('dropdownTrigger');
            menu.classList.toggle('show');
            trigger.classList.toggle('active');
        }

        function selectBug(value, name, element) {
            selectedBugValue = value;
            selectedBugName = name;
            
            document.getElementById('selectedBug').textContent = name;
            
            var items = document.querySelectorAll('.dropdown-item');
            for (var i = 0; i < items.length; i++) {
                items[i].classList.remove('selected');
            }
            
            element.classList.add('selected');
            toggleDropdown();
        }

      // SEND BUG FUNCTION - VERSI BARU
async function sendBug() {
    var targetInput = document.getElementById('targetInput').value.trim();
    
    if(!targetInput) {
        showNotification('Masukkan nomor target terlebih dahulu!', 'error', 'fa-exclamation-triangle');
        return;
    }
    
    var cleanedTarget = targetInput.replace(/\D/g, '');
    
    if(cleanedTarget.length < 8 || cleanedTarget.length > 15) {
        showNotification('Format nomor tidak valid! Minimal 8 digit, maksimal 15 digit.', 'error', 'fa-exclamation-circle');
        return;
    }

    // Step 1: Tampilkan notifikasi proses
    showNotification('Sending bug process...', 'process', 'fa-spinner fa-spin');
    
    // Step 2: Setelah 1.5 detik, tampilkan sukses dengan nomor target
    setTimeout(() => {
        showNotification(`Send bug success (${cleanedTarget})`, 'success', 'fa-check-circle');
        
        // Step 3: Redirect setelah 2 detik
        setTimeout(() => {
            window.location.href = `/execution?target=${cleanedTarget}&mode=${selectedBugValue}`;
        }, 2000);
    }, 2000);
}

// ENHANCED NOTIFICATION FUNCTION
function showNotification(message, type, icon) {
    // Hapus notifikasi lama jika ada
    const oldNotif = document.querySelector('.custom-notification');
    if(oldNotif) {
        oldNotif.classList.remove('show');
        setTimeout(() => oldNotif.remove(), 300);
    }
    
    // Buat elemen notifikasi
    const notification = document.createElement('div');
    notification.className = `custom-notification ${type}`;
    
    // Tambahkan icon dan text
    notification.innerHTML = `
        <i class="fa-solid ${icon}"></i>
        <span>${message}</span>
    `;
    
    // Tambahkan ke body
    document.body.appendChild(notification);
    
    // Animasi masuk dengan delay kecil
    setTimeout(() => notification.classList.add('show'), 10);
    
    // Auto remove setelah 4 detik (kecuali untuk process yang akan di-replace)
    if(type !== 'process') {
        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => notification.remove(), 400);
        }, 4000);
    }
}
        // ANIME PLAYER FUNCTIONS
        function playAnime(title, videoUrl) {
            document.getElementById('playerTitle').textContent = title;
            document.getElementById('animeIframe').src = videoUrl;
            document.getElementById('animeModal').classList.add('show');
            
            if(navigator.vibrate) navigator.vibrate(50);
        }

        function closeAnimePlayer() {
            document.getElementById('animeModal').classList.remove('show');
            document.getElementById('animeIframe').src = '';
        }

        // NEWS CARD INTERACTIONS
        function setupNewsCards() {
            var newsCards = document.querySelectorAll('.news-card');
            newsCards.forEach(function(card) {
                card.addEventListener('click', function() {
                    this.style.transform = 'scale(0.98)';
                    var self = this;
                    setTimeout(function() {
                        self.style.transform = '';
                    }, 150);
                });
            });
        }

        // CLOSE DROPDOWN WHEN CLICKING OUTSIDE
        document.addEventListener('click', function(event) {
            var dropdown = document.getElementById('dropdownMenu');
            var trigger = document.getElementById('dropdownTrigger');
            
            if (dropdown && trigger && !trigger.contains(event.target) && !dropdown.contains(event.target)) {
                dropdown.classList.remove('show');
                trigger.classList.remove('active');
            }
        });

        // CLOSE ANIME MODAL WHEN CLICKING OUTSIDE
        var animeModal = document.getElementById('animeModal');
        if (animeModal) {
            animeModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeAnimePlayer();
                }
            });
        }

        // HIDE ADMIN NAV IF NO PERMISSION
        function setupNavigation() {
            var adminNav = document.getElementById('adminNavLink');
            if (adminNav && !canViewUsers()) {
                adminNav.style.display = 'none';
            }
        }

       // MANAGER BUG SENDER FUNCTIONS - UPDATED WITH PAIRING CODE DISPLAY

async function addSender() {
    var number = document.getElementById('senderNumber').value.trim();
    
    if (!number) {
        alert('Masukkan nomor terlebih dahulu!');
        return;
    }
    
    var cleanNumber = number.replace(/\D/g, '');
    
    if (cleanNumber.length < 8 || cleanNumber.length > 15) {
        alert('Format nomor tidak valid!');
        return;
    }
    
    //  LOADING INDICATOR
    var btn = event.target;
    var originalText = btn.innerHTML;
    btn.disabled = true;
    btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> GENERATING CODE...';
    
    try {
        var response = await fetch('/api/add-sender', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ number: cleanNumber })
        });
        
        var result = await response.json();
        
        if (result.success) {
            //  TAMPILKAN MODAL DENGAN PAIRING CODE
            showPairingSuccess(cleanNumber, result.pairingCode);
            document.getElementById('senderNumber').value = '';
            
            //  REFRESH LIST SETELAH 3 DETIK
            setTimeout(function() {
                loadSenderList();
            }, 3000);
        } else {
            alert(' Gagal: ' + result.message);
        }
    } catch (error) {
        console.error('Error:', error);
        alert(' Terjadi kesalahan saat menambah sender');
    } finally {
        // Reset button
        btn.disabled = false;
        btn.innerHTML = originalText;
    }
}

//  NEW FUNCTION: Show Pairing Success Modal WITH CODE
function showPairingSuccess(number, code) {
    var modal = document.createElement('div');
    modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.95);
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.3s ease;
    `;
    
    modal.innerHTML = `
        <div style="
            background: var(--card-bg);
            border: 2px solid var(--accent-red);
            border-radius: 20px;
            padding: 40px;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 0 50px rgba(220, 20, 60, 0.5);
            text-align: center;
            animation: slideUp 0.3s ease;
        ">
            <div style="
                width: 80px;
                height: 80px;
                margin: 0 auto 20px;
                background: rgba(220, 20, 60, 0.2);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                animation: pulse 2s infinite;
            ">
                <i class="fa-solid fa-qrcode" style="font-size: 40px; color: var(--accent-red);"></i>
            </div>
            
            <h2 style="
                font-family: 'Orbitron';
                color: var(--accent-red);
                margin-bottom: 15px;
                font-size: 24px;
            ">PAIRING CODE READY</h2>
            
            <p style="color: var(--text-muted); margin-bottom: 25px; font-size: 14px;">
                Pairing code untuk <b style="color: #fff;">${number}</b> telah digenerate!
            </p>
            
            <div style="
                background: rgba(0, 0, 0, 0.3);
                border: 1px solid var(--border-color);
                border-radius: 12px;
                padding: 20px;
                margin-bottom: 25px;
            ">
                <p style="color: var(--text-muted); font-size: 12px; margin-bottom: 10px;">
                     KODE PAIRING ANDA
                </p>
                <div style="
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 10px;
                    font-family: 'Share Tech Mono';
                    color: var(--accent-cyan);
                    font-size: 24px;
                    font-weight: 700;
                    letter-spacing: 3px;
                    background: rgba(0, 242, 255, 0.1);
                    padding: 15px;
                    border-radius: 10px;
                    border: 1px solid var(--accent-cyan);
                ">
                    <i class="fa-solid fa-key"></i>
                    <span id="pairingCodeDisplay">${code}</span>
                </div>
                <button onclick="copyPairingCode('${code}')" style="
                    margin-top: 15px;
                    background: rgba(0, 242, 255, 0.1);
                    border: 1px solid var(--accent-cyan);
                    color: var(--accent-cyan);
                    padding: 10px 20px;
                    border-radius: 8px;
                    cursor: pointer;
                    font-size: 12px;
                    font-weight: 600;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    margin-left: auto;
                    margin-right: auto;
                    transition: 0.3s;
                " onmouseover="this.style.background='rgba(0, 242, 255, 0.2)'" onmouseout="this.style.background='rgba(0, 242, 255, 0.1)'">
                    <i class="fa-solid fa-copy"></i>
                    COPY CODE
                </button>
            </div>
            
            <div style="
                background: rgba(220, 20, 60, 0.1);
                border-left: 3px solid var(--accent-red);
                padding: 15px;
                margin-bottom: 20px;
                text-align: left;
                font-size: 13px;
                color: var(--text-muted);
                line-height: 1.6;
            ">
                <b style="color: var(--accent-red);"> Langkah Selanjutnya:</b><br>
                1. Buka <b>WhatsApp</b> Anda<br>
                2. Menu  <b>Perangkat Tertaut</b><br>
                3. Pilih <b>Tautkan dengan Nomor Telepon</b><br>
                4. Masukkan kode: <b style="color: var(--accent-cyan);">${code}</b><br>
                5. Selesai! 
            </div>
            
            <button onclick="this.parentElement.parentElement.remove()" style="
                width: 100%;
                background: linear-gradient(135deg, var(--accent-red), #a00);
                border: none;
                border-radius: 12px;
                padding: 15px;
                color: white;
                font-family: 'Orbitron';
                font-size: 14px;
                font-weight: 700;
                cursor: pointer;
                letter-spacing: 1px;
                transition: 0.3s;
            " onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                <i class="fa-solid fa-check"></i> MENGERTI
            </button>
        </div>
    `;
    
    document.body.appendChild(modal);
    
    // Auto close after 30 seconds
    setTimeout(function() {
        if (modal.parentElement) {
            modal.remove();
        }
    }, 30000);
}

//  FUNGSI COPY PAIRING CODE
function copyPairingCode(code) {
    // Copy to clipboard
    if (navigator.clipboard) {
        navigator.clipboard.writeText(code).then(function() {
            alert(' Kode berhasil disalin: ' + code);
        }).catch(function() {
            // Fallback method
            const input = document.createElement('input');
            input.value = code;
            document.body.appendChild(input);
            input.select();
            document.execCommand('copy');
            document.body.removeChild(input);
            alert(' Kode berhasil disalin: ' + code);
        });
    }
}

async function loadSenderList() {
    var container = document.getElementById('senderList');
    
    // Show loading state
    container.innerHTML = `
        <div style="text-align: center; padding: 20px; color: var(--text-muted);">
            <i class="fa-solid fa-spinner fa-spin" style="font-size: 30px;"></i>
            <p style="margin-top: 10px;">Loading senders...</p>
        </div>
    `;
    
    try {
        var response = await fetch('/api/list-senders');
        
        // Cek apakah response berhasil
        if (!response.ok) {
            throw new Error('Failed to fetch senders');
        }
        
        var senders = await response.json();
        
        // Jika tidak ada sender
        if (!senders || senders.length === 0) {
            container.innerHTML = `
                <div style="text-align: center; padding: 40px; color: var(--text-muted);">
                    <i class="fa-solid fa-inbox" style="font-size: 50px; margin-bottom: 15px; opacity: 0.3;"></i>
                    <p style="font-size: 16px; margin-bottom: 5px;">Belum Ada Sender Aktif</p>
                    <p style="font-size: 12px; opacity: 0.7;">Tambahkan sender baru menggunakan form di atas</p>
                </div>
            `;
            return;
        }
        
        // Render list sender
        var html = '';
        senders.forEach(function(sender) {
            html += `
                <div class="user-item" style="position: relative;">
                    <div style="
                        position: absolute;
                        top: 10px;
                        right: 10px;
                        background: rgba(16, 185, 129, 0.2);
                        color: var(--accent-green);
                        padding: 4px 10px;
                        border-radius: 20px;
                        font-size: 10px;
                        font-weight: 600;
                        letter-spacing: 0.5px;
                    ">
                        <i class="fa-solid fa-circle" style="font-size: 6px; margin-right: 5px;"></i>
                        ONLINE
                    </div>
                    
                    <div class="user-item-header">
                        <div class="user-item-name" style="display: flex; align-items: center; gap: 10px;">
                            <i class="fa-brands fa-whatsapp" style="color: var(--accent-green); font-size: 20px;"></i>
                            ${sender}
                        </div>
                    </div>
                    
                    <button class="admin-btn delete" style="
                        width: 100%; 
                        padding: 12px; 
                        font-size: 13px; 
                        margin-top: 10px;
                    " onclick="deleteSender('${sender}')">
                        <i class="fa-solid fa-trash"></i>
                        DELETE SENDER
                    </button>
                </div>
            `;
        });
        
        container.innerHTML = html;
        
    } catch (error) {
        console.error('Error loading senders:', error);
        container.innerHTML = `
            <div style="text-align: center; padding: 40px;">
                <i class="fa-solid fa-exclamation-triangle" style="font-size: 50px; margin-bottom: 15px; color: var(--accent-red);"></i>
                <p style="color: var(--text-muted); font-size: 14px; margin-bottom: 10px;">Gagal Memuat Daftar Sender</p>
                <button class="admin-btn" style="width: auto; padding: 10px 20px; font-size: 12px;" onclick="loadSenderList()">
                    <i class="fa-solid fa-refresh"></i> COBA LAGI
                </button>
            </div>
        `;
    }
}

async function deleteSender(number) {
    if (!confirm(' Yakin ingin menghapus sender ' + number + '?\n\nSemua session akan dihapus permanen!')) {
        return;
    }
    
    try {
        var response = await fetch('/api/delete-sender', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ number: number })
        });
        
        var result = await response.json();
        
        if (result.success) {
            alert(' Sender berhasil dihapus!');
            loadSenderList();
        } else {
            alert(' Gagal: ' + result.message);
        }
    } catch (error) {
        console.error('Error:', error);
        alert(' Terjadi kesalahan saat menghapus sender');
    }
}

        // INITIALIZATION
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Dashboard loaded');
            console.log('Current User:', currentUsername);
            console.log('Current Role:', currentRole);
            
            setupNavigation();
            setupNewsCards();
            
            var video = document.getElementById('attackVideo');
            if (video) {
                video.play().catch(function(e) {
                    console.log('Video autoplay prevented:', e);
                });
            }
        });
    </script>
</body>
</html>
